% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-interactive.R
\name{plot_interactive}
\alias{plot_interactive}
\title{Interactive map of interpolated results}
\usage{
plot_interactive(
  result,
  variable = NULL,
  type = "pct_tract",
  palette = "RdYlBu",
  popup_vars = NULL,
  alpha = 0.7,
  legend = TRUE,
  layer_name = NULL,
  basemap = "OpenStreetMap",
  ...
)
}
\arguments{
\item{result}{An \code{interpElections_result} object.}

\item{variable}{Variable to map. Accepts a column name, ballot number
(numeric), candidate name substring, or party abbreviation.
Multiple values create synchronized comparison panels.
If NULL, auto-selects the first candidate variable.}

\item{type}{Quantity to map: \code{"pct_tract"} (default), \code{"absolute"},
\code{"pct_muni"}, \code{"pct_valid"}, \code{"pct_eligible"}, \code{"density"}.}

\item{palette}{Color palette name. Default: \code{"RdYlBu"}
(diverging, colorblind-friendly).}

\item{popup_vars}{Character vector of column names to show in
click popups. If NULL, auto-selects zone ID, the plotted variable,
turnout, and calibration columns (capped at 8).}

\item{alpha}{Fill opacity (0 to 1). Default: 0.7.}

\item{legend}{Show legend. Default: TRUE.}

\item{layer_name}{Layer name in the map. NULL = auto-generated
from dictionary metadata.}

\item{basemap}{Base map tile provider. Default: \code{"OpenStreetMap"}.}

\item{...}{Additional arguments passed to \code{\link[mapview:mapView]{mapview::mapview()}}.}
}
\value{
A \code{mapview} object (single variable) or a \code{leafsync}
object (multiple variables with synchronized panels).
}
\description{
Creates an interactive leaflet/mapview map of an interpolated variable.
Variables can be referenced by column name, ballot number, candidate
name, or party abbreviation. When multiple variables are provided,
creates synchronized side-by-side panels via \code{leafsync::sync()}.
}
\examples{
\dontrun{
result <- interpolate_election_br(3304557, 2020, 2022,
                                   keep = "sources_sf")

# Interactive map by candidate name
plot_interactive(result, variable = "Lula", type = "pct_tract")

# Side-by-side comparison (synced panels)
plot_interactive(result, variable = c("Lula", "Bolsonaro"),
                 type = "pct_tract")

# Custom popup
plot_interactive(result, variable = "PT",
                 popup_vars = c("code_tract", "PARTY_PT",
                                "QT_COMPARECIMENTO"))
}

}
