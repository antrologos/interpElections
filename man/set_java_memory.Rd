% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check-r5r.R
\name{set_java_memory}
\alias{set_java_memory}
\title{Set Java heap memory for r5r}
\usage{
set_java_memory(size, persist = interactive())
}
\arguments{
\item{size}{Character. Memory size with unit suffix, e.g. \code{"4g"} for
4 GB, \code{"512m"} for 512 MB, \code{"8g"} for 8 GB.}

\item{persist}{Logical. Also write to \verb{~/.Renviron} so the setting
persists across R sessions. Default: TRUE in interactive sessions.}
}
\value{
Invisibly, the previous value of \code{getOption("java.parameters")}.
}
\description{
Configures the maximum heap size for the Java Virtual Machine used by r5r.
Large travel-time matrices can require several gigabytes of JVM heap.
}
\details{
This sets \code{options(java.parameters = "-Xmx{size}")}. It \strong{must} be called
before \code{r5r} (or \code{rJava}) is loaded — once the JVM starts, heap size
cannot be changed without restarting R.

A rule of thumb: allocate \eqn{\ge 2} GB per million OD pairs you expect
in your travel-time matrix. For a municipality with 5,000 census tracts
and 200 polling locations, that's 1 million pairs — 2-4 GB is usually
enough. Larger cities (e.g. Sao Paulo) may need 8-16 GB.
}
\examples{
\dontrun{
set_java_memory("4g")
set_java_memory("8g", persist = TRUE)
}

}
\seealso{
\code{\link[=check_r5r]{check_r5r()}} to see current memory settings.
}
