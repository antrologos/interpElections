% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/control.R
\name{routing_control}
\alias{routing_control}
\title{Routing control parameters}
\usage{
routing_control(
  mode = "WALK",
  point_method = "pop_weighted",
  min_area_for_pop_weight = 1,
  max_trip_duration = 300L,
  n_threads = 4L,
  gtfs_zip_path = NULL,
  departure_datetime = NULL,
  pop_raster = NULL,
  osm_buffer_km = 10,
  fill_missing = NULL
)
}
\arguments{
\item{mode}{Character. Routing mode, using r5r convention:
\code{"WALK"} (default), \code{"BICYCLE"}, \code{"CAR"}, \code{"TRANSIT"}, or
combinations like \code{c("WALK", "TRANSIT")}. Passed directly to
\code{\link[r5r:travel_time_matrix]{r5r::travel_time_matrix()}}.}

\item{point_method}{Character. Method for computing representative points
of census tracts. One of \code{"pop_weighted"} (default, uses WorldPop
raster), \code{"point_on_surface"}, or \code{"centroid"}.
See \code{\link[=compute_representative_points]{compute_representative_points()}}.}

\item{min_area_for_pop_weight}{Numeric. Minimum tract area in km2 for
applying the pop_weighted method. Smaller tracts fall back to
point_on_surface. Default: 1.}

\item{max_trip_duration}{Integer. Maximum trip duration in minutes.
Also used as fill value for unreachable pairs (unless \code{fill_missing}
is set). Default: 300 (5 hours walking).}

\item{n_threads}{Integer. Number of parallel threads for the r5r routing
engine. Default: 4.}

\item{gtfs_zip_path}{Character or NULL. Path to a GTFS \code{.zip} file for
transit routing. Copied into the network directory so r5r can
auto-detect it. Default: NULL.}

\item{departure_datetime}{POSIXct or NULL. Departure time for
transit-based routing. Required when \code{mode} includes transit.
Default: NULL.}

\item{pop_raster}{A \link[terra:SpatRaster-class]{terra::SpatRaster}, file path to GeoTIFF, or NULL.
Population raster for \code{point_method = "pop_weighted"}. If NULL,
WorldPop data is auto-downloaded. Default: NULL.}

\item{osm_buffer_km}{Numeric. Buffer in km around the combined bounding
box of tracts and points when clipping OSM data. Default: 10.}

\item{fill_missing}{Numeric or NULL. Value for unreachable OD pairs.
NULL (default) uses \code{max_trip_duration}.}
}
\value{
A list of class \code{"interpElections_routing_control"} with one element
per parameter.
}
\description{
Creates a control object for travel-time computation in
\code{\link[=compute_travel_times]{compute_travel_times()}}. All parameters have sensible defaults;
override only what you need.
}
\examples{
# Default settings (walking, 5h max)
routing_control()

# Transit mode with GTFS
routing_control(
  mode = c("WALK", "TRANSIT"),
  gtfs_zip_path = "sptrans.zip",
  departure_datetime = as.POSIXct("2022-10-02 10:00:00")
)

# Bicycle with centroid-based points
routing_control(mode = "BICYCLE", point_method = "centroid")

}
\seealso{
\code{\link[=compute_travel_times]{compute_travel_times()}}, \code{\link[=optim_control]{optim_control()}}
}
