% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/brazil-downloads.R
\name{br_download_votes}
\alias{br_download_votes}
\title{Download candidate vote data from TSE}
\usage{
br_download_votes(
  year,
  uf,
  code_muni_tse = NULL,
  cargo = NULL,
  turno = 1L,
  force = FALSE,
  cache = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{year}{Integer. Election year (e.g., 2008, 2012, 2016, 2020).}

\item{uf}{Character. Two-letter state abbreviation (e.g., \code{"SP"}, \code{"RJ"}),
or \code{"BR"} to download the national file (used for presidential data).}

\item{code_muni_tse}{Character or NULL. 5-digit TSE municipality code.
If provided, filters results to this municipality only.}

\item{cargo}{Integer or NULL. Electoral office code to filter
(e.g., 13 = Vereador, 11 = Prefeito). If NULL, returns all offices.}

\item{turno}{Integer. Election round (1 or 2). Default: 1.}

\item{force}{Logical. Re-download even if cached file exists.
Default: FALSE.}

\item{cache}{Logical. If TRUE (default), downloaded files are stored
in a persistent cross-session cache directory (see
\code{\link[=get_interpElections_cache_dir]{get_interpElections_cache_dir()}}). If FALSE, files are stored in a
temporary directory and lost when R restarts.}

\item{verbose}{Logical. Default: TRUE.}
}
\value{
A data frame with one row per candidate per polling section,
using the original TSE column names. Key columns:
\describe{
\item{ANO_ELEICAO}{Election year}
\item{CD_MUNICIPIO}{TSE municipality code (5-digit)}
\item{NR_ZONA}{Electoral zone number}
\item{NR_SECAO}{Section number}
\item{NR_LOCAL_VOTACAO}{Polling location number}
\item{CD_CARGO}{Office code}
\item{NR_VOTAVEL}{Candidate number (or 95 = blank, 96 = null)}
\item{NM_VOTAVEL}{Candidate name}
\item{QT_VOTOS}{Number of votes}
}
}
\description{
Downloads the official candidate vote data (votação por seção eleitoral)
from the TSE open data portal for a given election year and state.
The data is downloaded as a ZIP file containing a semicolon-delimited CSV.
}
\details{
Data is downloaded from
\verb{https://cdn.tse.jus.br/estatistica/sead/odsele/votacao_secao/}.
Files are cached persistently by default and reused on subsequent
calls unless \code{force = TRUE}. Use \code{\link[=interpElections_cache]{interpElections_cache()}} to manage
cached files.

The CSV files use semicolon (\verb{;}) as delimiter and Latin-1 encoding.

\strong{Note:} For general elections, presidential vote data (cargo 1) is
published in a national file (\code{uf = "BR"}) rather than in per-state
files. \code{\link[=br_prepare_electoral]{br_prepare_electoral()}} handles this automatically.
}
\seealso{
\code{\link[=br_download_turnout]{br_download_turnout()}} for attendance/turnout data,
\code{\link[=br_prepare_electoral]{br_prepare_electoral()}} which uses this function internally,
\code{\link[=interpElections_cache]{interpElections_cache()}} to manage cached downloads.

Other Brazil downloads: 
\code{\link{br_download_geocode}()},
\code{\link{br_download_turnout}()}
}
\concept{Brazil downloads}
