% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-methods.R
\name{plot.interpElections_result}
\alias{plot.interpElections_result}
\alias{autoplot.interpElections_result}
\title{Plot an interpolated variable as a choropleth map}
\usage{
\method{plot}{interpElections_result}(
  x,
  variable = NULL,
  type = "pct_tract",
  palette = "RdYlBu",
  breaks = "quantile",
  n_breaks = 5L,
  title = NULL,
  subtitle = NULL,
  legend_title = NULL,
  caption = NULL,
  show_sources = FALSE,
  border_color = "white",
  border_width = 0.05,
  limits = NULL,
  scale_bar = TRUE,
  ...
)

\method{autoplot}{interpElections_result}(object, ...)
}
\arguments{
\item{x}{An \code{interpElections_result} object.}

\item{variable}{Variable to plot. Accepts a column name (e.g.,
\code{"CAND_13"}), ballot number (numeric, e.g. \code{13}), candidate name
substring (e.g., \code{"Lula"}), or party abbreviation (e.g., \code{"PT"}).
Multiple values produce a faceted comparison.
If NULL, auto-selects the first candidate variable.}

\item{type}{Quantity to map: \code{"pct_tract"} (default), \code{"absolute"},
\code{"pct_muni"}, \code{"pct_valid"}, \code{"pct_eligible"}, \code{"density"}.}

\item{palette}{Color palette name. RColorBrewer palettes
(e.g., \code{"RdYlBu"}, \code{"YlGnBu"}, \code{"Spectral"}) or viridis palettes
(e.g., \code{"viridis"}, \code{"magma"}, \code{"plasma"}). Default: \code{"RdYlBu"}
(diverging, colorblind-friendly).}

\item{breaks}{Scale breaks: \code{"quantile"} (default), \code{"continuous"},
\code{"jenks"} (requires classInt), or a numeric vector of custom
break points.}

\item{n_breaks}{Number of breaks for \code{"quantile"} or \code{"jenks"}.
Default: 5.}

\item{title}{Plot title. NULL = auto-generated from dictionary
(title-cased candidate name with party).}

\item{subtitle}{Plot subtitle. NULL = auto-generated from
municipality/year/quantity metadata.}

\item{legend_title}{Legend title. NULL = auto-generated from
quantity type.}

\item{caption}{Plot caption. NULL = auto-generated source note.
Use \code{""} to suppress.}

\item{show_sources}{Overlay source points (polling stations)
on the map. Requires \code{electoral_sf} in the result
(use \code{keep = "electoral_sf"} when interpolating). Default: FALSE.}

\item{border_color}{Tract border color. Default: \code{"white"}.}

\item{border_width}{Tract border width. Default: 0.05.}

\item{limits}{Bounding box for the map extent as
\code{c(xmin, xmax, ymin, ymax)} in the CRS of the data (typically
longitude/latitude). NULL (default) shows the full extent.
Use this to zoom into a region of interest.}

\item{scale_bar}{Add a scale bar (requires ggspatial). Default: TRUE.}

\item{...}{Ignored.}

\item{object}{An \code{interpElections_result} object.}
}
\value{
A \code{ggplot} object (invisibly). Can be further customized
with ggplot2 \code{+} syntax.
}
\description{
Produces a ggplot2 choropleth map of an interpolated variable.
Variables can be referenced by column name, ballot number,
candidate name, or party abbreviation.
}
\examples{
\dontrun{
result <- interpolate_election_br(3304557, 2020, 2022)

# By candidate name (default: \% of tract votes, quantile breaks)
plot(result, variable = "Lula")

# By ballot number
plot(result, variable = 13)

# Absolute counts with continuous scale
plot(result, variable = "PT", type = "absolute",
     breaks = "continuous")

# Faceted comparison
plot(result, variable = c("Lula", "Bolsonaro"))

# Zoom into a region
plot(result, variable = "Lula",
     limits = c(-43.2, -43.1, -22.95, -22.85))

# Composable with ggplot2
library(ggplot2)
plot(result, variable = "PT") + theme_dark()
}

}
