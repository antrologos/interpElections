% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/travel-time.R
\name{compute_travel_times}
\alias{compute_travel_times}
\title{Compute a travel-time matrix from census tract representative points to source points}
\usage{
compute_travel_times(
  tracts_sf,
  points_sf,
  network_path,
  tract_id = "id",
  point_id = "id",
  routing = routing_control(),
  verbose = TRUE
)
}
\arguments{
\item{tracts_sf}{An \code{sf} object with polygon geometries. Target census
tracts.}

\item{points_sf}{An \code{sf} object with point geometries. Source points.}

\item{network_path}{Character. Path to the directory containing the
OSM \code{.pbf} file for building the r5r network.}

\item{tract_id}{Character. Name of the ID column in \code{tracts_sf}.
Default: \code{"id"}.}

\item{point_id}{Character. Name of the ID column in \code{points_sf}.
Default: \code{"id"}.}

\item{routing}{A \code{\link[=routing_control]{routing_control()}} object with routing parameters
(mode, point_method, max_trip_duration, n_threads, gtfs_zip_path,
departure_datetime, pop_raster, min_area_for_pop_weight,
osm_buffer_km, fill_missing). Default: \code{routing_control()}.}

\item{verbose}{Logical. Default: TRUE.}
}
\value{
A numeric matrix [n_tracts x n_points]. Travel times in minutes.
Row names = census tract IDs, column names = point IDs. Unreachable
pairs are filled with \code{fill_missing}.
}
\description{
Builds a travel-time matrix using the r5r routing engine. Computes
travel times from representative points of target census tracts
to geolocated source points (e.g., polling locations).
}
\details{
Requires the \code{r5r} and \code{sf} packages. r5r requires exactly Java/JDK 21.
Use \code{\link[=download_r5r_data]{download_r5r_data()}} to obtain the OSM data needed for \code{network_path}.
}
\examples{
\dontrun{
tt <- compute_travel_times(
  tracts_sf = tracts, points_sf = stations,
  network_path = "path/to/osm_data",
  tract_id = "code_tract", point_id = "id"
)

# Transit mode with GTFS
tt <- compute_travel_times(
  tracts_sf = tracts, points_sf = stations,
  network_path = "path/to/osm_data",
  routing = routing_control(
    mode = c("WALK", "TRANSIT"),
    gtfs_zip_path = "sptrans.zip",
    departure_datetime = as.POSIXct("2022-10-02 10:00:00")
  )
)
}

}
\seealso{
\code{\link[=routing_control]{routing_control()}} for routing parameters,
\code{\link[=download_r5r_data]{download_r5r_data()}} to download OSM and elevation data.

Other spatial: 
\code{\link{areal_interpolate}()},
\code{\link{areal_weights}()},
\code{\link{download_r5r_data}()}
}
\concept{spatial}
