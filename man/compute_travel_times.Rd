% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/travel-time.R
\name{compute_travel_times}
\alias{compute_travel_times}
\title{Compute a travel-time matrix from zone centroids to source points}
\usage{
compute_travel_times(
  zones_sf,
  points_sf,
  network_path,
  zone_id = "id",
  point_id = "id",
  mode = "WALK",
  max_trip_duration = 300L,
  fill_missing = max_trip_duration,
  n_threads = 4L,
  departure_datetime = NULL,
  verbose = TRUE
)
}
\arguments{
\item{zones_sf}{An \code{sf} object with polygon geometries. Target zones.}

\item{points_sf}{An \code{sf} object with point geometries. Source points.}

\item{network_path}{Character. Path to the directory containing the
OSM \code{.pbf} file for building the r5r network.}

\item{zone_id}{Character. Name of the ID column in \code{zones_sf}.
Default: \code{"id"}.}

\item{point_id}{Character. Name of the ID column in \code{points_sf}.
Default: \code{"id"}.}

\item{mode}{Character. Routing mode. Default: \code{"WALK"}.}

\item{max_trip_duration}{Integer. Maximum trip duration in minutes.
Default: 300.}

\item{fill_missing}{Numeric. Value to fill for unreachable
origin-destination pairs. Default: same as \code{max_trip_duration}.}

\item{n_threads}{Integer. Number of r5r routing threads. Default: 4.}

\item{departure_datetime}{POSIXct or NULL. Departure time for
transit-based routing. Required when \code{mode} includes transit
components. Default: NULL (ignored for WALK/BICYCLE modes).}

\item{verbose}{Logical. Default: TRUE.}
}
\value{
A numeric matrix [n_zones x n_points]. Travel times in minutes.
Row names = zone IDs, column names = point IDs. Unreachable pairs
are filled with \code{fill_missing}.
}
\description{
Builds a travel-time matrix using the r5r routing engine. Computes
travel times from the centroids of target zones (e.g., census tracts)
to geolocated source points (e.g., polling locations).
}
\details{
Requires the \code{r5r} and \code{sf} packages. r5r requires Java/JDK 21+.
Use \code{\link[=download_r5r_data]{download_r5r_data()}} to obtain the OSM data needed for \code{network_path}.
}
\examples{
\dontrun{
tt <- compute_travel_times(
  zones_sf = tracts, points_sf = stations,
  network_path = "path/to/osm_data",
  zone_id = "code_tract", point_id = "id"
)
}

}
\seealso{
\code{\link[=download_r5r_data]{download_r5r_data()}} to download OSM and elevation data.

Other spatial: 
\code{\link{areal_interpolate}()},
\code{\link{areal_weights}()},
\code{\link{download_r5r_data}()}
}
\concept{spatial}
