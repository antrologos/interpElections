% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/brazil-shapefiles.R
\name{br_prepare_tracts}
\alias{br_prepare_tracts}
\title{Prepare census tract shapefiles with population data for a Brazilian municipality}
\usage{
br_prepare_tracts(
  code_muni,
  pop_data,
  clip_sf = NULL,
  year = 2010,
  crs = "EPSG:5880",
  verbose = TRUE
)
}
\arguments{
\item{code_muni}{Numeric or character. IBGE municipality code.}

\item{pop_data}{Data frame. Output of \code{\link[=br_prepare_population]{br_prepare_population()}}. Must
contain \code{code_tract} and population bracket columns.}

\item{clip_sf}{Optional \code{sf} polygon object. If provided, census tracts
are clipped to this geometry (e.g., to remove non-urban areas like
parks, forests, and water bodies). Population is proportionally
adjusted based on the fraction of area retained.}

\item{year}{Integer. Census tract geometry year. Default: 2010.}

\item{crs}{Character or integer. CRS for the output. Default: SIRGAS 2000
/ Brazil Polyconic (EPSG:5880).}

\item{verbose}{Logical. Print progress messages. Default: TRUE.}
}
\value{
An \code{sf} object with census tract polygons and columns:
\code{code_tract}, all \verb{pop_*} bracket columns from \code{pop_data}, and
\code{pop_total} (sum of all brackets).
}
\description{
Downloads census tract geometries via \code{geobr}, joins population data
from \code{\link[=br_prepare_population]{br_prepare_population()}}, optionally clips to an urban area mask,
and removes unpopulated tracts.
}
\details{
Requires the \code{geobr}, \code{sf}, and \code{dplyr} packages.
}
\examples{
\dontrun{
pop <- br_prepare_population("3550308", year = 2010)
tracts <- br_prepare_tracts("3550308", pop)
}

}
\seealso{
\code{\link[=br_prepare_population]{br_prepare_population()}} to generate \code{pop_data}.

Other Brazil helpers: 
\code{\link{br_prepare_electoral}()},
\code{\link{br_prepare_population}()}
}
\concept{Brazil helpers}
